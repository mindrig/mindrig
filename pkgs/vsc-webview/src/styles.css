@import "tailwindcss";
@import "tw-animate-css";
@config "../tailwind.config.ts";
@plugin "@tailwindcss/typography";
@plugin "tailwindcss-react-aria-components";
@source "../node_modules/streamdown/dist/index.js";

@theme {
  /*# Colors */

  /* Base */

  --canvas: var(--vscode-sideBar-background);
  --ink: var(--vscode-sideBar-foreground);

  /* Use-case */

  --color-item-hover: var(--vscode-list-hoverForeground);

  /* Canvas (background) */

  --color-canvas: var(--canvas);

  /* Ink (text) */

  /* Primary */
  --color-ink: var(--ink);
  /* --color-ink-inverse: red; */
  /* Support */
  --color-ink-support: color-mix(in srgb, var(--ink) 85%, transparent);
  /* --color-ink-support-inverse: red; */
  /* Detail */
  --color-ink-detail: color-mix(in srgb, var(--ink) 70%, transparent);
  /* --color-ink-detail-inverse: red; */

  /* Icon */

  /* Primary */
  --color-icon: color-mix(in srgb, var(--ink) 85%, transparent);
  --color-icon-hover: color-mix(in srgb, var(--color-icon) 80%, transparent);
  /* Support */
  --color-icon-support: color-mix(in srgb, var(--ink) 70%, transparent);
  --color-icon-support-hover: color-mix(
    in srgb,
    var(--color-icon-support) 80%,
    transparent
  );
  /* Detail */
  --color-icon-detail: color-mix(in srgb, var(--ink) 55%, transparent);
  --color-icon-detail-hover: color-mix(
    in srgb,
    var(--color-icon-detail) 80%,
    transparent
  );

  /*# Sizes */

  --text-base: var(--vscode-font-size);

  /*## Button */

  /*### Style */

  /**** Solid */
  --color-button-solid-canvas: var(--vscode-button-background);
  --color-button-solid-canvas-hover: var(--color-gray-400);
  --color-button-solid-ink: var(--vscode-button-foreground);
  --color-button-solid-ink-hover: var(--color-white);

  /***** Label */
  --color-button-label-ink: var(--vscode-foreground);
  --color-button-label-ink-hover: var(--vscode-textLink-activeForeground);
  /*----- Secondary */
  --color-button-secondary-label-ink: var(--vscode-button-secondaryForeground);
  --color-button-secondary-label-ink-hover: var(
    --vscode-button-secondaryForeground
  );

  /***** Transparent */
  --color-button-transparent-canvas-hover: var(--color-gray-50);
  --color-button-transparent-border: var(--color-gray-300);
  --color-button-transparent-border-hover: var(--color-gray-400);
  /*----- Secondary */
  --color-button-transparent-secondary-ink: var(
    --color-button-secondary-label-ink
  );
  --color-button-transparent-secondary-ink-hover: var(
    --color-button-secondary-label-ink-hover
  );
  --color-button-transparent-secondary-canvas: transparent;
  --color-button-transparent-secondary-canvas-hover: var(
    --vscode-toolbar-hoverBackground
  );
  --color-button-transparent-secondary-border: var(--vscode-chat-requestBorder);
  --color-button-transparent-secondary-border-hover: var(
    --vscode-chat-requestBorder
  );

  /* Input */

  /* Radius */
  --radius-input: var(--radius-md);
  --radius-input-sm: var(--radius-sm);
  /* Shadow */
  --shadow-input: var(--shadow-xs);
  /* Colors */
  --color-input-canvas: var(--vscode-input-background);
  --color-input-ink: var(--vscode-input-foreground);
  --color-input-placeholder: var(--vscode-input-placeholderForeground);
  --color-input-border: var(--vscode-input-border);

  /* Menu */

  /* Radius */
  --radius-menu: var(--radius-sm);
  /* Shadow */
  --shadow-menu: var(--shadow-md);
  /* Colors */
  --color-menu-canvas: var(--vscode-menu-background);
  --color-menu-border: var(--vscode-menu-border);

  /* Option */

  /* Radius */
  --radius-option: var(--radius-sm);
  /* Shadow */
  --shadow-option: var(--shadow-md);
  /* Colors */
  --color-option-canvas: var(--vscode-dropdown-listBackground);
  --color-option-canvas-hover: var(--vscode-inputOption-hoverBackground);
  --color-option-canvas-selected: var(--vscode-inputOption-activeBackground);
  --color-option-ink: var(--vscode-input-foreground);
  --color-option-ink-selected: var(--vscode-inputOption-activeForeground);

  /* Section */
  --color-section-border: var(--vscode-sideBarSectionHeader-border);
  --color-section-border-pinned: color-mix(
    in srgb,
    var(--vscode-textLink-foreground) 15%,
    transparent
  );

  /* Active */
  --color-active-text: var(--vscode-textLink-foreground);
  --color-active-border: var(--vscode-focusBorder);
}

:placeholder-shown {
  font-style: italic;
  font-weight: 400;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .flex > * {
    min-width: 0;
  }
}

@layer components {
  .streamdown-content {
    color: var(--color-ink);
    font-size: 0.875rem;
    line-height: 1.6;
    max-width: none;
  }

  .streamdown-content :where(p + p) {
    margin-top: 0.75rem;
  }

  .streamdown-content :where(h1, h2, h3, h4, h5, h6) {
    color: var(--color-ink);
    margin-top: 1.25rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
  }

  .streamdown-content pre {
    background-color: color-mix(
      in srgb,
      var(--color-canvas) 88%,
      var(--color-ink) 12%
    );
    border-radius: var(--radius-input);
    padding: 0.75rem;
    overflow-x: auto;
    border: 1px solid color-mix(in srgb, var(--color-ink) 20%, transparent);
  }

  .streamdown-content code {
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;
    font-size: 0.8125rem;
    background-color: color-mix(
      in srgb,
      var(--color-canvas) 90%,
      var(--color-ink) 10%
    );
    border-radius: var(--radius-input-sm);
    padding: 0.125rem 0.375rem;
  }

  .streamdown-content pre code {
    background-color: transparent;
    padding: 0;
  }

  .streamdown-content blockquote {
    border-left: 3px solid
      color-mix(in srgb, var(--color-active-border) 60%, transparent);
    padding-left: 0.75rem;
    margin: 0.75rem 0;
    color: var(--color-ink-detail);
  }

  .streamdown-content a {
    color: var(--color-active-text);
    text-decoration: underline;
    text-decoration-color: color-mix(
      in srgb,
      var(--color-active-text) 70%,
      transparent
    );
  }

  .streamdown-content table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.875rem;
  }

  .streamdown-content th,
  .streamdown-content td {
    border: 1px solid color-mix(in srgb, var(--color-ink) 20%, transparent);
    padding: 0.5rem 0.75rem;
    text-align: left;
  }

  .streamdown-content tr:nth-child(even) {
    background-color: color-mix(
      in srgb,
      var(--color-canvas) 95%,
      var(--color-ink) 5%
    );
  }

  .streamdown-content ul,
  .streamdown-content ol {
    padding-left: 1.25rem;
    margin: 0.5rem 0;
  }

  .streamdown-content li + li {
    margin-top: 0.25rem;
  }
}
